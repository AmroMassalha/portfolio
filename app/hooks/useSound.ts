import { useRef, useCallback } from 'react';

type SoundType = 'click' | 'success' | 'type' | 'error' | 'achievement' | 'whoosh';

const soundUrls: Record<SoundType, string> = {
  click: 'data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBjiS1/LNeSsFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBjiS1/LNeSsFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBjiS1/LNeSsFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBjiS1/LNeSsFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBjiS1/LNeSsFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBjiS1/LNeSsFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBjiS1/LNeSsFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBjiS1/LNeSsFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBjiS1/LNeSsFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBjiS1/LNeSsFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBjiS1/LNeSsFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBjiS1/LNeSsFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBjiS1/LNeSsFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBjiS1/LNeSsFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBjiS1/LNeSsFJHfH8N+RQAoUXrTp66hVFApGn+DyvmwhBjiS1/LNeSsFJHfH8N+RQAoUXrTp66hVFApGn+DyvmwhBjiS1/LNeSsFJHfH8N+RQAoUXrTp66hVFApGn+DyvmwhBjiS1/LNeSsFJHfH8N+RQAoUXrTp66hVFApGn+DyvmwhBjiS1/LNeSsFJHfH8N+RQAoUXrTp66hVFApGn+DyvmwhBjiS1/LNeSsFJHfH8N+RQAoUXrTp66hVFApGn+DyvmwhBjiS1/LNeSsFJHfH8N+RQAoUXrTp66hVFApGn+DyvmwhBjiS1/LNeSsFJHfH8N+RQAoUXrTp66hVFApGn+DyvmwhBjiS1/LNeSsFJHfH8N+RQAoUXrTp66hVFApGn+DyvmwhBjiS1/LNeSsFJHfH8N+RQAoUXrTp66hVFApGn+DyvmwhBjiS1/LNeSsFJHfH8N+RQAoUXrTp66hVFApGn+DyvmwhBjiS1/LNeSsFJHfH8N+RQAoUXrTp66hVFApGn+DyvmwhBjiS1/LNeSsFJHfH8N+RQAoUXrTp66hVFApGn+DyvmwhBj',
  success: 'data:audio/wav;base64,UklGRjwGAABXQVZFZm10IBAAAAABAAEAESsAABErAAABAAgAZGF0YRgGAACAhYB1jm59hHVxe5KLYHKEkYqAgo+HdXuLiISGjY2Ig4WEhYqLiYWChISGiouKiIWEg4SFiImKiYiFhISEhYiJiomIhYSEhIWIiYqJiIWEhISFiImKiYiFhISEhYiJiomIhYSEhIWIiYqJiIWEhISFiImKiYiFhISEhYiJiomIhYSEhIWIiYqJiIWEhISFiImKiYiFhISEhYiJiomIhYSEhIWIiYqJiIWEhISFiImKiYiFhISEhYiJiomIhYSEhIWIiYqJiIWEhISFiImKiYiFhISEhYiJiomIhYSEhIWIiYqJiIWEhISFiImKiYiFhISEhYiJiomIhYSEhIWIiYqJiIWEhISFiImJiIaEhISEhYaHiIaFhISEhIWGh4iGhYSEhISFhoiKhouHhIB/gIB+gImIhHt4fImOjHt3aW17nLGrhmJVa53L1LmDXUFfndDWvIdgP16az9a8iGNAXJnO17yLZEFbmM3Wu4tnQluYzda6jGlDXJnO1rqMaEVfms7UuItpRmGZzNK3jGxIYJnM0bWNbkpgmczRtI5vTGGZy9GzjXBOYpnL0bOObk5jmszRs4xvT2OYzNGzi29QYpjM0rSMb1BjmMzStItvUGOYzNK0i29QY5jM0rSLb1BjmMzStItvUGOYzNK0i29QY5jM0rSLb1BjmMzStItvUGOYzNK0i29QY5jM0rSLb1BjmMzStItvUGOYzNK0i29QY5jM0rSLb1BjmMzStItvUGOYzNK0i29QY5jM0rSLb1BjmMzStItvUGOYzNK0i29QY5jM0rSLb1BjmMzStItvUGOYzNK0i29QY5jM0rSLb1BjmMzStItvUGOYzNK0i29QY5jM0rSMcFFjmMvStItwUmOYy9K0jHBSY5jL0rSMcFRkmMvRtItwVGSYy9G0jHBVZZjL0bSLcFVlmMvRtI1wVmWZytG0jXBWZZnK0LSNcFdmmsrQtI1wV2aay9C1jXBYZZrM0LWNcFhlmszQtY1wWGWazNC1jXBYZZrM0LWNcFhlmszQtY1wWGWazNC1jXBYZZrM0LWNcFhlmszQtY1wWGWazNC1jXBYZZrM0LWNcFhlmszQtY1wWGWazNC1jXBYZZrM0LWNcFhlmszQtY1wWGWazNC1jXBYZZrM0LWNcFhlmszQtY1wWGWazNC1jXBYZZrM0LWNcFhlmszQtY1wWGWazNC1jXBYZZrM0LWNcFhlmszQtY1wWGSazNC1jXBYZJrM0LWNcFhkmszQtY1wWGSazNC1jXBYZJrM0LWNcFhkmszQtY1wWGSazNC1jXBYZJrM0LWNcFhkmszQtY1wWGSazNC1jXBYZJrM0LWNcFhkmszQtY1wWGSazNC1jXBYZJrM0LWNcFhkmszQtY1wWGSazNC1jXBYZJrM0LWNcFhkmszQtY1wWGSazNC1jXBYZJrM0LWNcFhkmszQtQ==',
  type: 'data:audio/wav;base64,UklGRl4CAABXQVZFZm10IBAAAAABAAEAIlYAAIhYAAABAAgAZGF0YToCAAB/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f3+AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfYB9gH2AfQ==',
  error: 'data:audio/wav;base64,UklGRiQDAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAOZGF0YQADAADx8O7u7e7w8vP09fb3+Pn6+/v7+/v6+fj29PHu6+jk4Nzc3N3f4+js8Pb6/QADBgcHBgQB/fjz7ebd1sy+sqaZjYF2bGNbVVFOTEtLTU9TVllcYGVqcHZ8hIyUpqy0vcfS3Ors8vn/BAkNEBITExEPCwb/9+3h0Leehmxmb3uGkJ2quMXS4PDuDAH89OzGDhG2H2aOBNnwMGD6+PnzqRX9h2ECPZDV9f+7VBEqBLzrJkrKdABhQvnVA/cYvT9YHOkZ8UKxhfvWgAXgJXMT9Z+ceAKGLt7DDErUPQmxOGp37CXqRhRQ5ncJnZdDE5sLwTLKdQqBHsI/qBfiOyJz2Ob4WxzW6ioJ9VYhgNsaI3qPYOY8FsEdnRr5n9vqS2YQ9dcFAQD/AgD6AgAEAwDoAwAWBADTAwAKAwCgAQD6AQA5AQC0AAAAPAAAAPv8//n7//T5/PH3+/L3/fX7/vv///8DAAUFBAX//vr38Orp39DNv7SupZuRhn16eXl7gYeOlqCqtr7K1t7p8vn/BQkNEBMVFRQRDAb77eTXxquPczwTvJ1wRxsk9rpkJuq0dy8T2JheJue3hkwZzpdgL+W4i1sm3aBdFsqKaDXxzo1aIsmFdVAg4baFUyTJh3hVLuS9hkoc06J3SB7NmHdPJ9+xf0MUw5R/XDz1x3w9B7uOh2tK88B6Oh+4kn5cOuvBg00hyZh1SiHLm3xULN2whEwezJd3TSnWpH1KH8qXeVEm2q2DTR/Kl3hRJ9mrf0wgy5h4TyXYrYJNIMuYeE8l162BShzKmHpRJ9yrf0kbypZ4USfcrn5HGMqWeVMo3K59RxvKlnhSJ9ytgEgZypZ4UijcrX9HGMqWeVMo3K18RxvLl3hRJtyvf0cYypZ5UyfcrXxFGMuXeVEm3K+ASBjKlnhTJ9ytfEUYy5d5USbcr4BIGQ==',
  achievement: 'data:audio/wav;base64,UklGRqQEAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YYAEAACCgoKDg4KBgYGBgYCAf39/f359fHx8fHt7e3t7e3t7e3t7fHx8fH19fX5+fn9/f4CAgIGBgYGCgoODg4SEhISFhYWFhoaGhoaHh4eHh4eHh4eHh4eHh4eHh4aGhoaGhoaFhYWFhISEhIODg4KCgoGBgYCAgH9/fn19fHx7e3p6eXl4eHd3d3Z2dnZ1dXV1dXV1dXV1dXV2dnZ2d3d4eHl5enp7e3x8fX1+fn+AgICBgYKCg4OEhISFhYaGhoaHh4eIiIiIiIiJiYmJiYmJiYmJiYmJiYmJiYmJiIiIiIiIh4eHh4aGhoaFhYWEhISEg4OCgoKBgYGAgH9/fn59fXx8e3t6enl5eHh3d3Z2dXV0dHR0c3Nzc3Nzc3Nzc3Nzc3Nzc3R0dHR1dXZ2d3d4eHl5enp7fHx9fX5/f4CAgYGCgoODhISFhYWGhoaHh4eHiIiIiImJiYmJiomKioqKioqKioqKioqKioqKioqKioqJiYmJiYiIiIiHh4eHhoaGhYWFhISEg4OCgoGBgICAf39+fn19fHx7e3p6eXl4eHd3dnZ1dXR0c3NycnJycnFxcXFxcXFxcXFxcXFxcXJycnJyc3Nzc3R0dXV2dnd3eHh5eXp6e3t8fH19fn5/gICAgYGCgoODhISEhYWFhoaGh4eHh4iIiIiIiImJiYmJiYmKioqKioqKioqKioqKioqKioqKioqKiomJiYmJiYiIiIiHh4eHhoaGhoWFhISEg4ODgoKBgYCAgH9/fn59fXx8e3t6enl5eHh3d3Z2dXV0dHNzc3JycnJxcXFxcXFxcXFxcXFxcXFxcXFxcnJycnJzc3N0dHR1dXZ2d3d4eHl5enp7e3x8fX1+fn9/gICBgYGCgoODhISEhYWFhoaGhoeHh4eIiIiIiIiIiImJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYiIiIiIiIeHh4eGhoaGhYWFhISEg4ODgoKBgYGAgH9/fn59fXx8fHt7enp5eXh4d3d2dnV1dHR0c3NzcnJycnJxcXFxcXFxcXFxcXFxcXFxcXFycnJyc3Nzc3R0dHV1dXZ2d3d4eHl5enp7e3x8fX1+fn9/gICAgYGCgoODg4SEhISFhYWGhoaGh4eHh4eHiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIh4eHh4eHhoaGhoWFhYWEhISEg4ODgoKCgYGAgIB/f35+fX18fHx7e3p6eXl5eHh3d3Z2dXV1dHR0c3Nzc3JycnJycnFxcXFxcXFxcXFxcXFxcXFycnJyc3Nzc3R0dHV1dXZ2dnd3eHh5eXp6e3t8fHx9fX5+f3+AgICBgYKCgoODg4SEhIWFhYWGhoaGhoeHh4eHh4iIiIiIiIiIiIiIiA==',
  whoosh: 'data:audio/wav;base64,UklGRswCAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQABAAgAZGF0YagCAAB/f39/f39/gICAgICBgYKCg4OEhIWFhoaHh4iIiYmKi4uMjI2Njo6Pj5CQkJGRkpKSk5OTk5SUlJSUlJSUlJOTk5OSkpKRkZGQkJCPj46Ojo2NjIyLi4qKiYmIiIeHhoaFhYSEg4OCgoGBgICAgH9/f359fXx8e3t6enl5eHh3d3Z2dXV0dHNzc3JycXFxcHBwcG9vb29vb29vb29vb29wcHBwcXFxcnJyc3Nzc3R0dXV1dnZ3d3h4eHl5enp7e3x8fX1+fn9/f39/gICAgICBgYGBgoKCg4ODg4SEhISFhYWFhYWGhoaGhoaGhoaGhoaGhoaGhoaFhYWFhYWEhISEg4ODg4KCgoKBgYGBgICAgH9/f39+fn59fX18fHx7e3t6enp5eXl4eHh4d3d3dnZ2dXV1dXR0dHR0dHR0dHR0dHR0dHR0dHR0dHV1dXV2dnZ3d3d4eHh5eXl6enp7e3t8fHx9fX1+fn5/f39/gICAgIGBgYGCgoKCg4ODg4SEhISEhIWFhYWFhYWFhYWFhYWFhYWFhYWFhISEhISEg4ODg4KCgoKBgYGBgYCAgIB/f39/fn5+fn19fX18fHx8e3t7e3p6enp5eXl5eXh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHl5eXl5enp6ent7e3t8fHx8fX19fX5+fn5/f39/gICAgIGBgYGBgoKCgoKDg4ODg4ODg4SEhISEhISEhISEhISEhISEhISEhISEhISEhISEg4ODg4ODg4KCgoKCgYGBgYGAgICAgH9/f39/fn5+fn5+fX19fX19fX19fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fX19fX19fX5+fn5+fn9/f39/f4CAgICAgIGBgYGBgYGBgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoGBgYGBgYGBgICAgICAgICAf39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f3+AgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgA=='
};

const useSound = () => {
  const audioRefs = useRef<Record<SoundType, HTMLAudioElement | null>>({
    click: null,
    success: null,
    type: null,
    error: null,
    achievement: null,
    whoosh: null
  });

  const [soundEnabled, setSoundEnabled] = useState(true);
  const [volume, setVolume] = useState(0.3);

  const playSound = useCallback((type: SoundType) => {
    if (!soundEnabled) return;

    try {
      if (!audioRefs.current[type]) {
        audioRefs.current[type] = new Audio(soundUrls[type]);
      }
      
      const audio = audioRefs.current[type];
      if (audio) {
        audio.volume = volume;
        audio.currentTime = 0;
        audio.play().catch(() => {
          // Ignore errors (e.g., user hasn't interacted with page yet)
        });
      }
    } catch (error) {
      console.error('Error playing sound:', error);
    }
  }, [soundEnabled, volume]);

  return { playSound, soundEnabled, setSoundEnabled, volume, setVolume };
};

export default useSound;